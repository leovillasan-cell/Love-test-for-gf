<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Do you love me?</title>
<style>
  :root { --bg:#fff6fb; --card:#fff; --accent:#ff6b81; --text:#2b2b2b; }
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg); color:var(--text);}
  .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px;}
  .card{background:var(--card);border-radius:20px;padding:28px;width:100%;max-width:520px;text-align:center;
        box-shadow:0 10px 30px rgba(0,0,0,0.08);}
  h1{margin:0 0 12px;font-size:26px;color:var(--accent)}
  p.lead{margin:0 0 20px;color:#555}
  .btn-area{position:relative;height:160px;margin-top:12px;}
  .buttons{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;gap:18px;align-items:center;justify-content:center}
  button{
    padding:12px 22px;border-radius:12px;border:0;font-weight:700;font-size:16px;
    cursor:pointer;min-width:120px;user-select:none; touch-action:manipulation;
  }
  .yes{background:linear-gradient(90deg,#ff9bb3,#ff6b81); color:white;}
  .no{background:linear-gradient(90deg,#ffd7d6,#ffb5b5); color:#400; position:absolute;}
  .result{margin-top:20px;padding:14px;border-radius:10px;background:linear-gradient(180deg, rgba(0,0,0,0.02), transparent);display:none}
  .big-heart{font-size:48px;margin-top:6px}
  @media (max-width:420px){ .btn-area{height:220px} }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>💞 Do you love me?</h1>
      <p class="lead">Pick an answer — but the <strong>NO</strong> button is shy 😉</p>

      <div class="btn-area" id="area">
        <div class="buttons" id="buttons">
          <button id="yes" class="yes">YES ❤️</button>
          <button id="no" class="no">NO 😅</button>
        </div>
      </div>

      <div class="result" id="result">
        <div class="message" id="message"></div>
        <div class="big-heart">💖💖💖</div>
      </div>

      <p style="font-size:13px;color:#777;margin-top:12px">Tip: try to tap NO — it will keep running away!</p>
    </div>
  </div>

<script>
(function(){
  const yes = document.getElementById('yes');
  const no  = document.getElementById('no');
  const area = document.getElementById('area');
  const result = document.getElementById('result');
  const message = document.getElementById('message');

  // Place NO initially to the right of YES
  function placeInitial() {
    no.style.position = 'absolute';
    no.style.left = (yes.offsetLeft + yes.offsetWidth + 24) + 'px';
    no.style.top  = (yes.offsetTop) + 'px';
  }

  // Move the no button to a random safe position inside viewport / area
  function moveNo() {
    const padding = 8;
    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
    const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);

    // compute max available area inside the card area bounding box
    const areaRect = area.getBoundingClientRect();
    const noRect = no.getBoundingClientRect();

    const maxX = Math.max(0, areaRect.width - noRect.width - padding*2);
    const maxY = Math.max(0, areaRect.height - noRect.height - padding*2);

    // try a few times to avoid overlapping the YES button
    const yesRect = yes.getBoundingClientRect();
    let attempts = 0;
    let x, y;
    do {
      x = Math.floor(Math.random() * (maxX + 1)) + padding;
      y = Math.floor(Math.random() * (maxY + 1)) + padding;
      attempts++;
      // convert area local coords to viewport coords for distance check
      const candidateCenterX = areaRect.left + x + noRect.width/2;
      const candidateCenterY = areaRect.top + y + noRect.height/2;
      const yesCenterX = yesRect.left + yesRect.width/2;
      const yesCenterY = yesRect.top + yesRect.height/2;
      const dx = candidateCenterX - yesCenterX;
      const dy = candidateCenterY - yesCenterY;
      const dist = Math.hypot(dx, dy);
      // require distance >= 120px, else retry (up to 15 attempts)
      if (dist >= 120 || attempts > 15) break;
    } while(true);

    // set position relative to area container
    no.style.left = x + 'px';
    no.style.top  = y + 'px';
  }

  // When yes clicked -> show result
  yes.addEventListener('click', () => {
    message.innerHTML = "<strong>Yay! 🥰 You said YES!</strong><br> You made my heart dance!";
    result.style.display = "block";
    // small animation
    document.body.animate([{filter:'brightness(1)'},{filter:'brightness(1.12)'},{filter:'brightness(1)'}], {duration:700,iterations:1});
  });

  // on pointer near the NO button -> move it (works for mouse and touch)
  function pointerNearNo(px, py) {
    const rect = no.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;
    const dist = Math.hypot(px - cx, py - cy);
    return dist < Math.max(rect.width, rect.height) * 1.25 + 20; // threshold
  }

  // global pointermove to make it very hard to tap NO (unlimited)
  window.addEventListener('pointermove', (ev) => {
    if (pointerNearNo(ev.clientX, ev.clientY)) {
      moveNo();
    }
  }, {passive:true});

  // also react to hover / enter on desktop
  no.addEventListener('mouseenter', moveNo);

  // touchstart should move and prevent accidental tap
  no.addEventListener('touchstart', function(e){
    e.preventDefault();
    moveNo();
  }, {passive:false});

  // also block clicks on NO and move instead
  no.addEventListener('click', function(e){
    e.preventDefault();
    moveNo();
  });

  // occasional random hop so it keeps being playful
  setInterval(() => { if (Math.random() < 0.25) moveNo(); }, 1200);

  // place initial position after load + on resize
  window.addEventListener('load', () => { placeInitial(); moveNo(); });
  window.addEventListener('resize', () => { placeInitial(); moveNo(); });

})();
</script>
</body>
  </html>
  
